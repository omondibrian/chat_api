{"version":3,"sources":["../../src/middleware/blocked.middleware.js"],"names":["blocked","req","res","next","_id","user","User","findOne","body","receipentId","receipent","blockedContacts","filter","contact","console","log","length","status","send","message"],"mappings":";;;;;;;;;;;;;;;AAMA;;;;;;;;AAEA,IAAMA,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEJC,YAAAA,GAFI,GAEIH,GAAG,CAACI,IAFR,CAEJD,GAFI;AAAA;AAAA,mBAGYE,iBAAKC,OAAL,CAAa;AAAEH,cAAAA,GAAG,EAAEH,GAAG,CAACO,IAAJ,CAASC;AAAhB,aAAb,CAHZ;;AAAA;AAGNC,YAAAA,SAHM;AAIJC,YAAAA,eAJI,GAIgBD,SAJhB,CAIJC,eAJI;AAKNN,YAAAA,IALM,GAKCM,eAAe,CAACC,MAAhB,CAAuB,UAAAC,OAAO;AAAA,qBAAIA,OAAO,CAACT,GAAR,KAAgBA,GAApB;AAAA,aAA9B,CALD;AAMZU,YAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;;AANY,kBAORA,IAAI,CAACW,MAAL,GAAc,CAPN;AAAA;AAAA;AAAA;;AAAA,6CAQHd,GAAG,CACPe,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAEC,cAAAA,OAAO,EAAE;AAAX,aAFD,CARG;;AAAA;AAWZhB,YAAAA,IAAI;AAXQ;AAAA;;AAAA;AAAA;AAAA;AAaZA,YAAAA,IAAI,aAAJ;;AAbY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPH,OAAO;AAAA;AAAA;AAAA,GAAb;;eAgBeA,O","sourcesContent":["/**\n * @description used to block unwanted users from sending text's to the user\n * @param {Request} req incoming user request\n * @param {Response} res server response\n * @param {NextFunction} next calls the next middleware\n */\nimport User from \"../models/user.model\";\n\nconst blocked = async (req, res, next) => {\n  try {\n    const { _id } = req.user;\n    const receipent = await User.findOne({ _id: req.body.receipentId });\n    const { blockedContacts } = receipent;\n    const user = blockedContacts.filter(contact => contact._id === _id);\n    console.log(user);\n    if (user.length > 0)\n      return res\n        .status(200)\n        .send({ message: \"your request is being processed\" });\n    next();\n  } catch (error) {\n    next(error);\n  }\n};\nexport default blocked;\n"],"file":"blocked.middleware.js"}